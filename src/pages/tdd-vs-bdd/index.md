---
title: å‰ç«¯å•å…ƒæµ‹éªŒ TDD Vs BDD
date: '2019-09-26'
tags: ['unit test', js]
---

# èƒŒæ™¯

æœ€è¿‘æ‰‹å¤´é¡¹ç›®ä¸å¤šï¼ŒæŠ½ç©ºå°†å…¬å¸åº•å±‚çš„ä¸€äº›ä»£ç é‡æ„äº†ä¸€ä¸‹ï¼Œè¯•ç€æƒ³è¦åŠ å…¥å•å…ƒæµ‹è¯•(unit test)ï¼Œä¹‹å‰æ€»å¬å¤§ç¥è¯´å•å…ƒæµ‹è¯•å¤šä¹ˆå¥½ï¼Œä½†æ˜¯ä¸€ç›´æ²¡ç©ºäº†è§£ã€‚å½“å‰æ€»å…±æœ‰ 2 ä¸­æµ‹è¯•æ¨¡å¼, TDD å’Œ BDDï¼Œ è¿™é‡Œæ€»ç»“ä¸€ä¸‹ä»–ä»¬ä¹‹é—´çš„ä¼˜åŠ¿å’Œç¼ºç‚¹ã€‚

## TDD

TDD(Test-driven development): è¿½æ±‚å…ˆå†™æµ‹è¯•ç„¶åå†å†™ä»£ç ï¼Œæ‰€æœ‰ä»£ç ä¸ºäº†é€šè¿‡æµ‹è¯•è€Œç”Ÿã€‚

![TDDæµç¨‹å›¾](./tdd-diagram.png)

### ä¼˜åŠ¿

> æ•´ä¸ªä»£ç åŸºäºæµ‹è¯•ç¼–å†™

- **éå¸¸é«˜çš„æµ‹è¯•é€šè¿‡è¦†ç›–ç‡**: æ•´ä¸ªä»£ç åŸºäºæµ‹è¯•ç¼–å†™(è¿™èƒ½ä¸é«˜å—?(ğŸ˜‚))
- **æµ‹è¯•ç”¨ä¾‹å³å¼€å‘æ–‡æ¡£**: ç»´æŠ¤è€…æˆ–è€…ä»£ç  reviewer ç”šè‡³å¯ä»¥ä»…ä»…é€šè¿‡æµ‹è¯•ç”¨ä¾‹å°±èƒ½åˆ¤å®šå‡ºæ˜¯å¦ç¬¦åˆåŠŸèƒ½éœ€æ±‚
- **æ›´æ˜“äºé‡æ„**: ç¼–å†™æµ‹è¯•çš„ä¼˜ç‚¹æ˜¯æ˜“äºé‡æ„ï¼ŒTDD å°†è¿™ä¼˜åŠ¿æ”¾å¤§ï¼Œç»´æŠ¤è€…å¿…é¡»å…ˆå†™æµ‹è¯•ç”¨ä¾‹ï¼Œç„¶åç¼–å†™å¯¹åº”çš„ä»£ç ï¼Œæ›´æœ‰åˆ©äºæµç¨‹çš„æ§åˆ¶(ç†æ¸…å¼€å‘æ€è·¯)
- **é€‚ç”¨äºåº•å±‚å·¥å…·å¼€å‘**: åº•å±‚å·¥å…·é¢å‘æŠ€æœ¯è®¾è®¡ï¼Œå’Œ[TDD è®¾è®¡åŸåˆ™](https://en.wikipedia.org/wiki/Test-driven_development)ä¸€è‡´(`TDD encourages simple designs and inspires confidence`)ã€‚

### ç¼ºç‚¹

> è¿‡äºæ­»æ¿ï¼Œç¼ºå°‘çµæ´»æ€§ï¼Œé™åˆ¶å¤§ï¼Œåä¸šåŠ¡é¡¹ç›®å°‘ç”¨

- **æ—¶é—´ç¿»å€æ•ˆç‡å‡åŠ**: æ—¶é—´å°±æ˜¯é‡‘é’±, åœ¨å¼€å‘(å°¤å…¶æ˜¯ä¸šåŠ¡é€»è¾‘)åŠŸèƒ½æ—¶ï¼Œå¼€å‘æ—¶é—´ç¿»å€æ„å‘³ç€ç»©æ•ˆå‡åŠã€‚
- **é‡æ„æ—¶é—´ç¿»å€**: æ•æ·å¼€å‘éœ€æ±‚è¿­ä»£æ›´æ–°å¿«ï¼Œä¸é€‚åˆçµæ´»å¤šå˜çš„ä»£ç 
- **å¯¹æ–°äººä¸å‹å¥½**: éœ€è¦ç†Ÿæ‚‰å…ˆå†™æµ‹è¯•ï¼Œåœ¨å†™ä»£ç ï¼Œæµ‹è¯•æˆäº†éœ€æ±‚æ–‡æ¡£(è€Œä¸æ˜¯çœŸæ­£çš„åŸå‹è®¾è®¡)
- **ä¸é€‚ç”¨äºé‡åº¦ css/html é¡¹ç›®**: å‰ç«¯æµ‹è¯•å¯¹ css/html æµ‹è¯•éš¾åº¦æå¤§(ä¸€èˆ¬éƒ½ä¸å†™çš„)ï¼Œæ›´ä½•å†µè¦å…ˆå†™æµ‹è¯•ç”¨ä¾‹ã€‚è¿™ä¼šå¯¼è‡´ä»£ç è¦†ç›–ç‡é™ä½

## BDD

BDD(Behaviour-Driven Development): è®¾å®šä¸€ä¸ªç›®æ ‡(å¯ä»¥æ˜¯å…ˆç¼–å†™æµ‹è¯•ï¼Œä¹Ÿå¯ä»¥å…ˆå†™ä»£ç )ï¼Œåªæ±‚å†…å®¹ä¸é¢„æœŸä¸€è‡´ï¼Œä¸è¿½æ±‚å¦‚ä½•å®ç°ã€‚

![BDDæµç¨‹å›¾](./bdd-workflow-600x268.png)

> ä¸ªäººè§è§£ï¼šBDD å¼€å‘é¢å‘ä¸šåŠ¡ã€‚BDD å¼€å‘å…¶å®å¯ä»¥ä¸ TDD åŒæ—¶è¿›è¡Œï¼Œæ˜¯ TDD çš„å­é›†ã€‚**å®Œç¾çš„ BDD= TDD**

### ä¼˜åŠ¿

> çµæ´»æ€§å¥½ï¼Œæ›´å¥½çš„å¼€å‘ä½“éªŒ

- **é¢å‘ä¸šåŠ¡**: å‰ç«¯é¡¹ç›®ç»å¤§éƒ¨åˆ†æ˜¯åŸºäºä¸šåŠ¡çš„ï¼Œæ›´é€‚åˆ BDD
- **å¼€å‘æ•ˆç‡é«˜,æ¸è¿›å¼å¼€å‘**: å¯ä»¥å…ˆç¼–å†™ä»£ç ï¼Œç„¶åå†å†™æµ‹è¯•ï¼Œåœ¨é¡¹ç›®æ—¶é—´ç´§å¼ çš„æ—¶å€™ï¼Œå¯ä»¥ç®€åŒ–(æš‚ç¼“ï¼Œä¸å†™)æµ‹è¯•ç”¨ä¾‹(äº‹åè¡¥é½)
- **é¡¹ç›®ç»ç†çš„æ–‡æ¡£**: è¿™äº›äººå‘˜ä¸å…³å¿ƒå®ç°ç»†èŠ‚ï¼ŒBDD ä½¿ç”¨å®ƒä»¬èƒ½å¤Ÿçœ‹æ‡‚çš„æœ¯è¯­è¿›è¡Œæµ‹è¯•ï¼Œèƒ½å¤Ÿæé«˜å¯¹å¼€å‘è€…çš„ä¸“ä¸šè®¤å¯ã€‚

### ç¼ºç‚¹

> è¾ƒä½ä»£ç è¦†ç›–åº¦ï¼Œæµ‹è¯•ç”¨ä¾‹ä¸ºé™„å±å“

- **ä»£ç è¦†ç›–åº¦ä½**ï¼š çº¯ä¸šåŠ¡é€»è¾‘çš„è¯ï¼Œè¦†ç›–ç‡ä¼šä¸é”™ã€‚ä½†æ˜¯å¦‚æœåŒ…å«å·¥å…·æ–¹æ³•ï¼Œè¦†ç›–ç‡ä¼šç›´çº¿èµ°ä½ã€‚
- **ç»“æœå¯¼å‘ï¼Œå¿½ç•¥ä»£ç è´¨é‡**: BDD é¢å‘ç»“æœï¼Œä»£ç è´¨é‡è·Ÿå¼€å‘è€…æ°´å¹³æ¯æ¯ç›¸å…³ï¼Œå¾ˆéš¾çº æ­£ä¸è‰¯çš„å¼€å‘ä¹ æƒ¯

## ç»“è®º

ä¸ªäººè®¤ä¸º: ç›¸å¯¹äºå…¶ä»–ä¸»æµç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œå•å…ƒæµ‹è¯•é‡è¦æ€§ç›¸å¯¹è¾ƒä½ï¼Œè¿™æ˜¯è·Ÿè¯­è¨€ç‰¹æ€§ç›¸å…³çš„ã€‚javascript è¯­è¨€æœ¬èº«é‡è§†çµæ´»å¤šå˜ï¼ŒåŠ¨æ€ï¼Œè·¨å¹³å°(ä¾èµ–ä¸åŒæ¸²æŸ“å¼•æ“),å†™æ³•åƒå¥‡ç™¾æ€ª(åœ¨ es6 ä¹‹å‰)ï¼Œè¿™ä¸€åˆ‡å˜å¾—éš¾ä»¥æµ‹è¯•ã€‚
ä½†æ˜¯**æµ‹è¯•ä¾ç„¶æ˜¯é‡è¦çš„ï¼Œä½†æ˜¯ä¸æ˜¯å¿…é¡»çš„**

- å•å…ƒæµ‹è¯•èƒ½å¤Ÿç†æ¸…**å¼€å‘æ€è·¯**ï¼Œæ›´å¥½çš„**é‡æ„ä»£ç **
- BDD æµ‹è¯•æ›´é€‚åˆåä¸šåŠ¡(è½»åº•å±‚)çš„é£æ ¼
- ä½¿ç”¨ä»£ç è¯æ˜ä½ çš„é¡¹ç›®è´¨é‡å¯é (talk is cheap, show your code)

> ä½†æ˜¯, æ—¶é—´æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥ä¸ªäººå»ºè®®åªå¯¹æ ¸å¿ƒçš„åŠŸèƒ½è¿›è¡Œæµ‹è¯•ã€‚

![noTime](https://media.giphy.com/media/3o6Ei2yv8fqpR3nJG8/giphy.gif)

## Reference

- [Test-driven development](https://en.wikipedia.org/wiki/Test-driven_development)
- [Javascript Unit Testing for Beginners](https://designmodo.com/test-javascript-unit/#targetText=There's%20no%20need%20to%20unit,it's%20becoming%20much%20more%20powerful.&targetText=Not%20every%20JS%20project%20will%20need%20a%20unit%20test.)
